# Pi5 LLM Space Control

Raspberry Pi 5（CPUのみ）環境で、
小型言語モデルの内部ベクトル空間を操作し、
挙動の変化を観測する実験プロジェクト。

---

## 🎯 目的

本プロジェクトの目的は「性能向上」ではありません。

目的は以下の理解です：

- 出力確率はどのように変化するのか
- ベクトル空間はどのように曲がるのか
- クラスタ構造はどう変形するのか
- 出力層のみの制御で何が起きるのか
- 局所的な空間操作で人格はどう変わるのか

モデルを“使う”のではなく、
モデル内部の構造を“触る”ことを目的とします。

---

## 🔒 制約条件

- Raspberry Pi 5
- CPUのみ（GPUなし）
- 小型モデル（5M〜10Mパラメータ目安）
- 低電力・ローカル完結
- 因果関係が追える設計

---

## 🧪 実験フェーズ

### Phase 1：出力層制御（射影操作）

- 中間層を凍結
- 出力層のみ学習
- 英語入力 → ひらがな再射影
- 出力確率変化を観測

目的：
意味空間を保持したまま、射影のみ変更すると何が起きるか。

---

### Phase 2：局所空間変形

- 中間層の一部を解凍
- 特定単語ベクトルを移動
- コサイン類似度変化を観測

目的：
単語ベクトル位置がクラスタ構造に与える影響を確認。

---

### Phase 3：人格軸制御

- 説明方向ベクトルの定義
- h' = h + α v_explain の実装
- αの入力依存制御
- 平滑化による安定性観測

目的：
空間操作による人格制御の可能性を探る。

---

## 📊 観測指標

- 出力トークン確率
- コサイン類似度
- 重み差分ノルム
- クラスタ近接関係
- Pi5実行時間

---

## 🧠 設計思想

- 単純・低次元から開始する
- 局所変更のみを行う
- 性能より構造理解を優先する
- 制約環境で成立する設計を重視する

---

## ⚙ 実行環境

- Python 3.x
- PyTorch（CPU版）

---

## 🚀 今後の展望

- 感情軸の数値化
- 概念クラスタ単位での再配置
- 制御ゲインの安定化設計

# 環境

## venv作った方がいい。

理由：

* 再現性
* 将来のPi環境差異回避
* GitHubでの信頼性

```bash
python -m venv venv
source venv/bin/activate
```

### 🔥 venvの基本コマンド（覚えるのはこれだけ）

#### 作成

```bash
python -m venv venv
```

#### 有効化

```bash
source venv/bin/activate
```

#### 無効化

```bash
deactivate
```

## PyTorchをCPU版で入れる

Pi5ならこれ：

```bash
pip install torch --index-url https://download.pytorch.org/whl/cpu
```

確認
```bash
python -c "import torch; print(torch.__version__)"
```

## numpyを入れる
```bash
pip install numpy
```
